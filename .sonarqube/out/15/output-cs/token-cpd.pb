∂º
OC:\ProgramData\Jenkins\.jenkins\workspace\GamePipeline\Projects\2048\Program.cs
ConsoleColor 
[ 
] 
Colors 
= 
{ 
ConsoleColor 
. 
DarkBlue 
, 
ConsoleColor 
. 
	DarkGreen 
, 
ConsoleColor		 
.		 
DarkCyan		 
,		 
ConsoleColor

 
.

 
DarkRed

 
,

 
ConsoleColor 
. 
DarkMagenta 
, 
ConsoleColor 
. 

DarkYellow 
, 
ConsoleColor 
. 
Blue 
, 
ConsoleColor 
. 
Red 
, 
ConsoleColor 
. 
Magenta 
, 
} 
; 
try 
{ 
Console 
. 	
CursorVisible	 
= 
false 
; 
Random 
random 
= 
new 
( 
) 
; 
while 
( 
true 
) 
{ 
NewBoard 	
:	 

Console 	
.	 

Clear
 
( 
) 
; 
int 
? 
[ 
, 
] 	
board
 
= 
new 
int 
? 
[ 
$num 
, 
$num 
]  
;  !
int 
score 
= 
$num 
; 
while 
( 	
true	 
) 
{ 
bool 
IsNull 
( 
( 
int 
X 
, 
int 
Y 
) 
point #
)# $
=>% '
board( -
[- .
point. 3
.3 4
X4 5
,5 6
point7 <
.< =
Y= >
]> ?
is@ B
nullC G
;G H
int   
	nullCount   
=   
BoardValues   
(   
board   $
)  $ %
.  % &
Count  & +
(  + ,
IsNull  , 2
)  2 3
;  3 4
if!! 
(!! 
	nullCount!! 
==!! 
$num!! 
)!! 
{"" 
goto## 
GameOver##	 
;## 
}$$ 
int%% 
index%% 
=%% 
random%% 
.%% 
Next%% 
(%% 
$num%% 
,%% 
	nullCount%% '
)%%' (
;%%( )
var&& 
(&& 
x&& 	
,&&	 

y&& 
)&& 
=&& 
BoardValues&& 
(&& 
board&& !
)&&! "
.&&" #
Where&&# (
(&&( )
IsNull&&) /
)&&/ 0
.&&0 1
	ElementAt&&1 :
(&&: ;
index&&; @
)&&@ A
;&&A B
board'' 
['' 	
x''	 

,''
 
y'' 
]'' 
='' 
random'' 
.'' 
Next'' 
('' 
$num'' 
)''  
<''! "
$num''# $
?''% &
$num''' (
:'') *
$num''+ ,
;'', -
score(( 
+=((	 
$num(( 
;(( 
if++ 
(++ 
!++ 
	TryUpdate++ 
(++ 
(++ 
int++ 
?++ 
[++ 
,++ 
]++ 
)++ 
board++  
.++  !
Clone++! &
(++& '
)++' (
,++( )
ref++* -
score++. 3
,++3 4
	Direction++5 >
.++> ?
Up++? A
)++A B
&&++C E
!,, 
	TryUpdate,, 
(,, 
(,, 
int,, 
?,, 
[,, 
,,, 
],, 
),, 
board,, 
.,, 
Clone,, #
(,,# $
),,$ %
,,,% &
ref,,' *
score,,+ 0
,,,0 1
	Direction,,2 ;
.,,; <
Down,,< @
),,@ A
&&,,B D
!-- 
	TryUpdate-- 
(-- 
(-- 
int-- 
?-- 
[-- 
,-- 
]-- 
)-- 
board-- 
.-- 
Clone-- #
(--# $
)--$ %
,--% &
ref--' *
score--+ 0
,--0 1
	Direction--2 ;
.--; <
Left--< @
)--@ A
&&--B D
!.. 
	TryUpdate.. 
(.. 
(.. 
int.. 
?.. 
[.. 
,.. 
].. 
).. 
board.. 
... 
Clone.. #
(..# $
)..$ %
,..% &
ref..' *
score..+ 0
,..0 1
	Direction..2 ;
...; <
Right..< A
)..A B
)..B C
{// 
goto00 
GameOver00	 
;00 
}11 
Render33 	
(33	 

board33
 
,33 
score33 
)33 
;33 
	Direction44 
	direction44 
;44 
GetDirection55 
:55 
switch66 	
(66
 
Console66 
.66 
ReadKey66 
(66 
true66 
)66  
.66  !
Key66! $
)66$ %
{77 
case88 

ConsoleKey88	 
.88 
UpArrow88 
:88 
	direction88  )
=88* +
	Direction88, 5
.885 6
Up886 8
;888 9
break88: ?
;88? @
case99 

ConsoleKey99	 
.99 
	DownArrow99 
:99 
	direction99  )
=99* +
	Direction99, 5
.995 6
Down996 :
;99: ;
break99< A
;99A B
case:: 

ConsoleKey::	 
.:: 
	LeftArrow:: 
::: 
	direction::  )
=::* +
	Direction::, 5
.::5 6
Left::6 :
;::: ;
break::< A
;::A B
case;; 

ConsoleKey;;	 
.;; 

RightArrow;; 
:;; 
	direction;;  )
=;;* +
	Direction;;, 5
.;;5 6
Right;;6 ;
;;;; <
break;;= B
;;;B C
case<< 

ConsoleKey<<	 
.<< 
End<< 
:<< 
goto<< 
NewBoard<< &
;<<& '
case== 

ConsoleKey==	 
.== 
Escape== 
:== 
goto==  
Close==! &
;==& '
default>> 
:>> 
goto>> 
GetDirection>> 
;>> 
}?? 
if@@ 
(@@ 
!@@ 
	TryUpdate@@ 
(@@ 
board@@ 
,@@ 
ref@@ 
score@@ "
,@@" #
	direction@@$ -
)@@- .
)@@. /
{AA 
gotoBB 
GetDirectionBB	 
;BB 
}CC 
}DD 
GameOverEE 	
:EE	 

RenderFF 
(FF 	
boardFF	 
,FF 
scoreFF 
)FF 
;FF 
ConsoleGG 	
.GG	 

	WriteLineGG
 
(GG 
$"GG 
$strGG "
"GG" #
)GG# $
;GG$ %
ConsoleHH 	
.HH	 

	WriteLineHH
 
(HH 
)HH 
;HH 
ConsoleII 	
.II	 

	WriteLineII
 
(II 
$strII ;
)II; <
;II< =
GetInputJJ 	
:JJ	 

switchKK 
(KK	 

ConsoleKK
 
.KK 
ReadKeyKK 
(KK 
trueKK 
)KK 
.KK  
KeyKK  #
)KK# $
{LL 
caseMM 

ConsoleKeyMM 
.MM 
EnterMM 
:MM 
gotoMM 
NewBoardMM '
;MM' (
caseNN 

ConsoleKeyNN 
.NN 
EscapeNN 
:NN 
gotoNN 
CloseNN  %
;NN% &
defaultOO 

:OO
 
gotoOO 
GetInputOO 
;OO 
}PP 
}QQ 
CloseRR 
:RR 
ConsoleSS 
.SS 	
ClearSS	 
(SS 
)SS 
;SS 
ConsoleTT 
.TT 	
WriteTT	 
(TT 
$strTT !
)TT! "
;TT" #
}UU 
finallyVV 
{WW 
ConsoleXX 
.XX 	
CursorVisibleXX	 
=XX 
trueXX 
;XX 
}YY 
bool[[ 
	TryUpdate[[ 
([[ 
int[[ 
?[[ 
[[[ 
,[[ 
][[ 
board[[ 
,[[ 
ref[[ !
int[[" %
score[[& +
,[[+ ,
	Direction[[- 6
	direction[[7 @
)[[@ A
{\\ 
(]] 
int]] 
X]] 
,]] 
int]]	 
Y]] 
)]] 
Adjacent]] 
(]] 
int]] 
x]] 
,]] 
int]]  #
y]]$ %
)]]% &
=>]]' )
	direction^^ 
switch^^ 
{__ 
	Direction`` 
.`` 
Up`` 
=>`` 
(`` 
x`` 
+`` 
$num`` 
,`` 
y`` 
)``  
,``  !
	Directionaa 
.aa 
Downaa 
=>aa 
(aa 
xaa 
-aa 
$numaa 
,aa 
yaa 
)aa  
,aa  !
	Directionbb 
.bb 
Leftbb 
=>bb 
(bb 
xbb 
,bb 
ybb 
-bb 
$numbb 
)bb  
,bb  !
	Directioncc 
.cc 
Rightcc 
=>cc 
(cc 
xcc 
,cc 
ycc 
+cc 
$numcc 
)cc  
,cc  !
_dd 
=>dd 
throwdd 
newdd #
NotImplementedExceptiondd )
(dd) *
)dd* +
,dd+ ,
}ee 
;ee 
(gg 
intgg 
Xgg 
,gg 
intgg	 
Ygg 
)gg 
Mapgg 
(gg 
intgg 
xgg 
,gg 
intgg 
ygg  
)gg  !
=>gg" $
	directionhh 
switchhh 
{ii 
	Directionjj 
.jj 
Upjj 
=>jj 
(jj 
boardjj 
.jj 
	GetLengthjj &
(jj& '
$numjj' (
)jj( )
-jj* +
xjj, -
-jj. /
$numjj0 1
,jj1 2
yjj3 4
)jj4 5
,jj5 6
	Directionkk 
.kk 
Downkk 
=>kk 
(kk 
xkk 
,kk 
ykk 
)kk 
,kk 
	Directionll 
.ll 
Leftll 
=>ll 
(ll 
xll 
,ll 
yll 
)ll 
,ll 
	Directionmm 
.mm 
Rightmm 
=>mm 
(mm 
xmm 
,mm 
boardmm 
.mm  
	GetLengthmm  )
(mm) *
$nummm* +
)mm+ ,
-mm- .
ymm/ 0
-mm1 2
$nummm3 4
)mm4 5
,mm5 6
_nn 
=>nn 
thrownn 
newnn #
NotImplementedExceptionnn )
(nn) *
)nn* +
,nn+ ,
}oo 
;oo 
boolqq 
[qq 
,qq 
]qq 
lockedqq	 
=qq 
newqq 
boolqq 
[qq 
boardqq  
.qq  !
	GetLengthqq! *
(qq* +
$numqq+ ,
)qq, -
,qq- .
boardqq/ 4
.qq4 5
	GetLengthqq5 >
(qq> ?
$numqq? @
)qq@ A
]qqA B
;qqB C
boolss 
updatess 
=ss 
falsess 
;ss 
foruu 
(uu 
intuu 	
iuu
 
=uu 
$numuu 
;uu 
iuu 
<uu 
boarduu 
.uu 
	GetLengthuu $
(uu$ %
$numuu% &
)uu& '
;uu' (
iuu) *
++uu* ,
)uu, -
{vv 
forww 
(ww 
intww 

jww 
=ww 
$numww 
;ww 
jww 
<ww 
boardww 
.ww 
	GetLengthww %
(ww% &
$numww& '
)ww' (
;ww( )
jww* +
++ww+ -
)ww- .
{xx 
varyy 
(yy 
tempiyy 
,yy 
tempjyy 
)yy 
=yy 
Mapyy 
(yy 
iyy 
,yy 
jyy  
)yy  !
;yy! "
ifzz 
(zz 
boardzz 
[zz 
tempizz 
,zz 
tempjzz 
]zz 
iszz 
nullzz "
)zz" #
{{{ 
continue|| 
;|| 
}}} 
KeepChecking~~ 
:~~ 
var 
( 
adji 
, 
adjj 
) 
= 
Adjacent 
( 
tempi $
,$ %
tempj& +
)+ ,
;, -
if
ÄÄ 
(
ÄÄ 
adji
ÄÄ 
<
ÄÄ 
$num
ÄÄ 
||
ÄÄ 
adji
ÄÄ 
>=
ÄÄ 
board
ÄÄ  
.
ÄÄ  !
	GetLength
ÄÄ! *
(
ÄÄ* +
$num
ÄÄ+ ,
)
ÄÄ, -
||
ÄÄ. 0
adjj
ÅÅ 
<
ÅÅ	 

$num
ÅÅ 
||
ÅÅ 
adjj
ÅÅ 
>=
ÅÅ 
board
ÅÅ 
.
ÅÅ 
	GetLength
ÅÅ '
(
ÅÅ' (
$num
ÅÅ( )
)
ÅÅ) *
||
ÅÅ+ -
locked
ÇÇ 

[
ÇÇ
 
adji
ÇÇ 
,
ÇÇ 
adjj
ÇÇ 
]
ÇÇ 
)
ÇÇ 
{
ÉÉ 
continue
ÑÑ 
;
ÑÑ 
}
ÖÖ 
else
ÜÜ 
if
ÜÜ 

(
ÜÜ 
board
ÜÜ 
[
ÜÜ 
adji
ÜÜ 
,
ÜÜ 
adjj
ÜÜ 
]
ÜÜ 
is
ÜÜ  
null
ÜÜ! %
)
ÜÜ% &
{
áá 
board
àà 	
[
àà	 

adji
àà
 
,
àà 
adjj
àà 
]
àà 
=
àà 
board
àà 
[
àà 
tempi
àà #
,
àà# $
tempj
àà% *
]
àà* +
;
àà+ ,
board
ââ 	
[
ââ	 

tempi
ââ
 
,
ââ 
tempj
ââ 
]
ââ 
=
ââ 
null
ââ 
;
ââ 
update
ää 

=
ää 
true
ää 
;
ää 
tempi
ãã 	
=
ãã
 
adji
ãã 
;
ãã 
tempj
åå 	
=
åå
 
adjj
åå 
;
åå 
goto
çç 
KeepChecking
çç	 
;
çç 
}
éé 
else
èè 
if
èè 

(
èè 
board
èè 
[
èè 
adji
èè 
,
èè 
adjj
èè 
]
èè 
==
èè  
board
èè! &
[
èè& '
tempi
èè' ,
,
èè, -
tempj
èè. 3
]
èè3 4
)
èè4 5
{
êê 
board
ëë 	
[
ëë	 

adji
ëë
 
,
ëë 
adjj
ëë 
]
ëë 
+=
ëë 
board
ëë 
[
ëë 
tempi
ëë $
,
ëë$ %
tempj
ëë& +
]
ëë+ ,
;
ëë, -
score
íí 	
+=
íí
 
board
íí 
[
íí 
adji
íí 
,
íí 
adjj
íí 
]
íí 
!
íí 
.
íí  
Value
íí  %
;
íí% &
board
ìì 	
[
ìì	 

tempi
ìì
 
,
ìì 
tempj
ìì 
]
ìì 
=
ìì 
null
ìì 
;
ìì 
update
îî 

=
îî 
true
îî 
;
îî 
locked
ïï 

[
ïï
 
adji
ïï 
,
ïï 
adjj
ïï 
]
ïï 
=
ïï 
true
ïï 
;
ïï 
}
ññ 
}
óó 
}
òò 
return
ôô 
update
ôô 
;
ôô 
}öö 
IEnumerableúú 
<
úú 
(
úú 
int
úú 
,
úú 
int
úú 
)
úú 
>
úú 
BoardValues
úú #
(
úú# $
int
úú$ '
?
úú' (
[
úú( )
,
úú) *
]
úú* +
board
úú, 1
)
úú1 2
{ùù 
for
ûû 
(
ûû 
int
ûû 	
i
ûû
 
=
ûû 
board
ûû 
.
ûû 
	GetLength
ûû 
(
ûû 
$num
ûû 
)
ûû  
-
ûû! "
$num
ûû# $
;
ûû$ %
i
ûû& '
>=
ûû( *
$num
ûû+ ,
;
ûû, -
i
ûû. /
--
ûû/ 1
)
ûû1 2
{
üü 
for
†† 
(
†† 
int
†† 

j
†† 
=
†† 
$num
†† 
;
†† 
j
†† 
<
†† 
board
†† 
.
†† 
	GetLength
†† %
(
††% &
$num
††& '
)
††' (
;
††( )
j
††* +
++
††+ -
)
††- .
{
°° 
yield
¢¢ 
return
¢¢	 
(
¢¢ 
i
¢¢ 
,
¢¢ 
j
¢¢ 
)
¢¢ 
;
¢¢ 
}
££ 
}
§§ 
}•• 
ConsoleColorßß 
GetColor
ßß 
(
ßß 
int
ßß 
?
ßß 
value
ßß  
)
ßß  !
=>
ßß" $
value
®® 
is
®® 

null
®® 
?
©© 
ConsoleColor
©© 
.
©© 
DarkGray
©© 
:
™™ 
Colors
™™ 
[
™™ 
(
™™ 
value
™™ 
.
™™ 
Value
™™ 
/
™™ 
$num
™™ 
-
™™ 
$num
™™  
)
™™  !
%
™™" #
Colors
™™$ *
.
™™* +
Length
™™+ 1
]
™™1 2
;
™™2 3
void¨¨ 
Render
¨¨ 
(
¨¨ 
int
¨¨ 
?
¨¨ 
[
¨¨ 
,
¨¨ 
]
¨¨ 
board
¨¨ 
,
¨¨ 
int
¨¨ 
score
¨¨ $
)
¨¨$ %
{≠≠ 
int
ÆÆ 

horizontal
ÆÆ 
=
ÆÆ 
board
ÆÆ 
.
ÆÆ 
	GetLength
ÆÆ !
(
ÆÆ! "
$num
ÆÆ" #
)
ÆÆ# $
*
ÆÆ% &
$num
ÆÆ' (
;
ÆÆ( )
string
ØØ 
horizontalBar
ØØ 
=
ØØ 
new
ØØ 
(
ØØ 
$char
ØØ 
,
ØØ  

horizontal
ØØ! +
)
ØØ+ ,
;
ØØ, -
string
∞∞ 
horizontalSpace
∞∞ 
=
∞∞ 
new
∞∞ 
(
∞∞ 
$char
∞∞ !
,
∞∞! "

horizontal
∞∞# -
)
∞∞- .
;
∞∞. /
Console
≤≤ 
.
≤≤ 	
SetCursorPosition
≤≤	 
(
≤≤ 
$num
≤≤ 
,
≤≤ 
$num
≤≤ 
)
≤≤  
;
≤≤  !
Console
≥≥ 
.
≥≥ 	
	WriteLine
≥≥	 
(
≥≥ 
$str
≥≥ 
)
≥≥ 
;
≥≥ 
Console
¥¥ 
.
¥¥ 	
	WriteLine
¥¥	 
(
¥¥ 
)
¥¥ 
;
¥¥ 
Console
µµ 
.
µµ 	
	WriteLine
µµ	 
(
µµ 
$"
µµ 
$str
µµ 
{
µµ 
horizontalBar
µµ $
}
µµ$ %
$str
µµ% &
"
µµ& '
)
µµ' (
;
µµ( )
Console
∂∂ 
.
∂∂ 	
	WriteLine
∂∂	 
(
∂∂ 
$"
∂∂ 
$str
∂∂ 
{
∂∂ 
horizontalSpace
∂∂ &
}
∂∂& '
$str
∂∂' (
"
∂∂( )
)
∂∂) *
;
∂∂* +
for
∑∑ 
(
∑∑ 
int
∑∑ 	
i
∑∑
 
=
∑∑ 
board
∑∑ 
.
∑∑ 
	GetLength
∑∑ 
(
∑∑ 
$num
∑∑ 
)
∑∑  
-
∑∑! "
$num
∑∑# $
;
∑∑$ %
i
∑∑& '
>=
∑∑( *
$num
∑∑+ ,
;
∑∑, -
i
∑∑. /
--
∑∑/ 1
)
∑∑1 2
{
∏∏ 
Console
ππ 	
.
ππ	 

Write
ππ
 
(
ππ 
$str
ππ 
)
ππ 
;
ππ 
for
∫∫ 
(
∫∫ 
int
∫∫ 

j
∫∫ 
=
∫∫ 
$num
∫∫ 
;
∫∫ 
j
∫∫ 
<
∫∫ 
board
∫∫ 
.
∫∫ 
	GetLength
∫∫ %
(
∫∫% &
$num
∫∫& '
)
∫∫' (
;
∫∫( )
j
∫∫* +
++
∫∫+ -
)
∫∫- .
{
ªª 
Console
ºº 

.
ºº
 
Write
ºº 
(
ºº 
$str
ºº 
)
ºº 
;
ºº 
ConsoleColor
ΩΩ 

background
ΩΩ 
=
ΩΩ 
Console
ΩΩ $
.
ΩΩ$ %
BackgroundColor
ΩΩ% 4
;
ΩΩ4 5
Console
ææ 

.
ææ
 
BackgroundColor
ææ 
=
ææ 
GetColor
ææ %
(
ææ% &
board
ææ& +
[
ææ+ ,
i
ææ, -
,
ææ- .
j
ææ/ 0
]
ææ0 1
)
ææ1 2
;
ææ2 3
Console
øø 

.
øø
 
Write
øø 
(
øø 
string
øø 
.
øø 
Format
øø 
(
øø 
$str
øø &
,
øø& '
board
øø( -
[
øø- .
i
øø. /
,
øø/ 0
j
øø1 2
]
øø2 3
)
øø3 4
)
øø4 5
;
øø5 6
Console
¿¿ 

.
¿¿
 
BackgroundColor
¿¿ 
=
¿¿ 

background
¿¿ '
;
¿¿' (
Console
¡¡ 

.
¡¡
 
Write
¡¡ 
(
¡¡ 
$str
¡¡ 
)
¡¡ 
;
¡¡ 
}
¬¬ 
Console
√√ 	
.
√√	 

	WriteLine
√√
 
(
√√ 
$str
√√ 
)
√√ 
;
√√ 
Console
ƒƒ 	
.
ƒƒ	 

	WriteLine
ƒƒ
 
(
ƒƒ 
$"
ƒƒ 
$str
ƒƒ 
{
ƒƒ 
horizontalSpace
ƒƒ '
}
ƒƒ' (
$str
ƒƒ( )
"
ƒƒ) *
)
ƒƒ* +
;
ƒƒ+ ,
}
≈≈ 
Console
∆∆ 
.
∆∆ 	
	WriteLine
∆∆	 
(
∆∆ 
$"
∆∆ 
$str
∆∆ 
{
∆∆ 
horizontalBar
∆∆ $
}
∆∆$ %
$str
∆∆% &
"
∆∆& '
)
∆∆' (
;
∆∆( )
Console
«« 
.
«« 	
	WriteLine
««	 
(
«« 
$"
«« 
$str
«« 
{
«« 
score
«« "
}
««" #
"
««# $
)
««$ %
;
««% &
}»» 
public   
enum
   
	Direction
   
{ÀÀ 
Up
ÃÃ 
=
ÃÃ 
$num
ÃÃ 
,
ÃÃ 
Down
ÕÕ 
=
ÕÕ 
$num
ÕÕ 	
,
ÕÕ	 

Left
ŒŒ 
=
ŒŒ 
$num
ŒŒ 	
,
ŒŒ	 

Right
œœ 
=
œœ 
$num
œœ	 

,
œœ
 
}–– 